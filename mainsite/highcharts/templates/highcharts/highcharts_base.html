{% extends "home/base.html" %}

{% block head %}
    {% load static %}
    <script src="{% static 'highcharts/highcharts.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="container-fluid">
        <div class="row">
            {% block countries %}
            {% endblock %}
            <div class="col-sm-10" id="chart_div" style="width: 100vw; height: calc(100vh - 56px);">
            </div>
        </div>
    </div>

    {{ options|json_script:"options" }}

    <script type="text/javascript">
        const options = JSON.parse(document.getElementById('options').textContent);
        var myChart;

        document.addEventListener('DOMContentLoaded', function () {
            myChart = Highcharts.chart('chart_div', options);
        });
    </script>
    
{% endblock %}
